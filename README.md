åˆ†å¸ƒå¼é«˜å¹¶å‘å•†å“ç§’æ€ç³»ç»Ÿ

- [ä»‹ç»](#ä»‹ç»)
- [å¿«é€Ÿå¯åŠ¨](#å¿«é€Ÿå¯åŠ¨)
- [é¡¹ç›®æ¶æ„å›¾](#é¡¹ç›®æ¶æ„å›¾)
- [é¡¹ç›®å…¥é—¨](#é¡¹ç›®å…¥é—¨)
- [`TODO`](#TODO)
- [Q&A](#Q&A)
- [å‚è€ƒèµ„æ–™](#å‚è€ƒèµ„æ–™)


## ä»‹ç»

æœ¬é¡¹ç›®æ˜¯åœ¨[`dis-seckill`](https://github.com/Grootzz/dis-seckill)ä¸Šæ”¹è¿›ï¼Œé¡¹ç›®åå«ä¹‰ä¸ºåˆ†å¸ƒå¼ç§’æ€ç³»ç»Ÿã€‚é‡‡ç”¨å¾®æœåŠ¡æ€æƒ³ï¼Œæ„åœ¨æé«˜ç§’æ€ç³»ç»Ÿçš„æ•´ä½“æ€§èƒ½ã€‚

#### æ”¹è¿›ç‚¹ï¼š

- [x] ä¼˜åŒ–ç§’æ€æµç¨‹ï¼Œæé«˜å•æœºç³»ç»Ÿæ€§èƒ½ç“¶é¢ˆã€‚[`dis-seckill-test`](https://github.com/parkt90/dis-seckill-test)

- [x] [æ¥å£å®‰å…¨ä¼˜åŒ–](doc/æ¥å£å®‰å…¨ä¼˜åŒ–.md)

- [x] [ç³»ç»Ÿé™æµä¸é™çº§æœåŠ¡](doc/ç³»ç»Ÿé™æµä¸é™çº§æœåŠ¡.md)

- [x] [`Nginx`æ°´å¹³æ‰©å±•ç½‘å…³æ¨¡å—ä¸é™æµé…ç½®](doc/ç³»ç»Ÿé™æµä¸é™çº§æœåŠ¡.md)

#### ç§’æ€ç³»ç»Ÿåº”å…·å¤‡è¦æ±‚

1. **é«˜æ€§èƒ½**ã€‚ç§’æ€æ¶‰åŠå¤§é‡çš„å¹¶å‘è¯»å’Œå¹¶å‘å†™ï¼Œå› æ­¤æ”¯æŒé«˜å¹¶å‘è®¿é—®è¿™ç‚¹éå¸¸å…³é”®ã€‚å¯¹åº”çš„æ–¹æ¡ˆæ¯”å¦‚åŠ¨é™åˆ†ç¦»æ–¹æ¡ˆã€çƒ­ç‚¹çš„å‘ç°å’Œéš”ç¦»ã€è¯·æ±‚çš„å‰Šå³°ä¸åˆ†å±‚è¿‡æ»¤ã€æœåŠ¡ç«¯çš„æè‡´ä¼˜åŒ–ã€‚
2. **ä¸€è‡´æ€§**ã€‚ç§’æ€ä¸­å•†å“å‡åº“å­˜çš„å®ç°æ–¹å¼åŒæ ·å…³é”®ã€‚æœ‰é™æ•°é‡çš„å•†å“åœ¨åŒä¸€æ—¶åˆ»è¢«å¾ˆå¤šå€çš„è¯·æ±‚åŒæ—¶æ¥å‡åº“å­˜ï¼Œå‡åº“å­˜åˆåˆ†â€œæ‹ä¸‹å‡åº“å­˜"â€ä»˜æ¬¾å‡åº“å­˜â€œä»¥åŠé¢„æ‰£å‡ ç§ã€‚ç³»ç»Ÿéœ€è¦åœ¨å¤§å¹¶å‘æ›´æ–°çš„è¿‡ç¨‹ä¸­è¦ä¿è¯æ•°æ®çš„å‡†ç¡®æ€§ã€‚
3. **é«˜å¯ç”¨**ã€‚ç°å®ä¸­éš¾å…å‡ºç°ä¸€äº›æˆ‘ä»¬è€ƒè™‘ä¸åˆ°çš„æƒ…å†µï¼Œæ‰€ä»¥è¦ä¿è¯ç³»ç»Ÿçš„é«˜å¯ç”¨æ€§å’Œæ­£ç¡®æ€§ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è®¾è®¡ä¸€ä¸ªplanBæ¥å…œåº•ï¼Œä»¥ä¾¿åº”å¯¹ä¸€äº›æ„å¤–æƒ…å†µã€‚æ¯”å¦‚é«˜å¹¶å‘æƒ…å†µä¸‹æœåŠ¡çš„ç†”æ–­å’Œé™çº§ã€‚

## å¿«é€Ÿå¯åŠ¨

- æ„å»ºå·¥å…·

  | âš”ï¸                                                 |
  | ------------------------------------------------- |
  | [`apache-maven-3.6.1`](https://maven.apache.org/) |

- å¼€å‘ç¯å¢ƒ

  |                              ğŸ–                               |                              ğŸŒ                               |                              ğŸ–                               |                              ğŸ¯                               |                          ğŸ¦„                          |                                                  |                                              |
  | :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: | :-------------------------------------------------: | :----------------------------------------------: | :------------------------------------------: |
  |          [`Java 1.8`](https://www.java.com/zh-CN/)           |   [`Mysql 8.0.12`](https://dev.mysql.com/downloads/mysql/)   | [`Redis 5.0.5`](https://github.com/zaiyunduan123/Java-Interview/blob/master/notes/database/Redis.md) | [`Zookeeper 3.4.10`](https://github.com/zaiyunduan123/Java-Interview/blob/master/notes/framework/Zookeeper.md) |   [`Rabbitmq 3.7.15`](https://www.rabbitmq.com/)    |                                                  |                                              |
  |                              ğŸ§                               |                              ğŸ¥‡                               |                              ğŸŒˆ                               |                              ğŸ»                               |                          ğŸš€                          |                        ğŸ“®                         |                      ğŸš                       |
  | [`SpringBoot 2.1.5`](https://spring.io/projects/spring-boot) | [`MyBatis 2.0.1`](https://mybatis.org/mybatis-3/zh/index.html) | [`Dubbo 2.7.1`](https://github.com/zaiyunduan123/Java-Interview/blob/master/notes/framework/Dubbo.md) |        [`Nginx   1.20.1`](https://www.nginx.cn/doc/)         | [`Sentinel 1.8.1`](https://sentinelguard.io/zh-cn/) | [`Thymeleaf 3.0.11`](https://www.thymeleaf.org/) | [`jmeter 5.4.1`](https://jmeter.apache.org/) |

åœ¨è¿è¡Œç§’æ€ç³»ç»Ÿä¹‹å‰ï¼Œéœ€è¦**å®‰è£…è¡¨æ ¼ç¬¬ä¸€æ’è½¯ä»¶**ï¼Œå¹¶å¼€å¯ç›¸åº”è½¯ä»¶ã€‚

å‡†å¤‡ï¼šä¿®æ”¹`mysql`æ•°æ®åº“é…ç½®ï¼Œè¿æ¥ã€è´¦æˆ·å’Œå¯†ç ã€‚

```properties
spring.datasource.url=jdbc:mysql://localhost:3306/seckill?useUnicode=true&characterEncoding=utf-8&allowMultiQueries=true&useSSL=false&serverTimezone=GMT%2B8
spring.datasource.username=root
spring.datasource.password=123
ï¼ˆæ ¹æ®è‡ªå·±æ•°æ®åº“é…ç½®åšç›¸åº”ä¿®æ”¹ï¼‰
```

**ç¬¬ä¸€æ­¥**ï¼›æ‰§è¡Œ`dis-seckill-common/schema/seckill.sql`æ–‡ä»¶ï¼Œåˆå§‹åŒ–æ•°æ®åº“ã€‚

**ç¬¬äºŒæ­¥**ï¼›å¦‚æœå®‰è£…äº†gitï¼Œåˆ™å¯ä»¥é‡‡ç”¨ä¸‹é¢çš„æ–¹å¼å¿«é€Ÿå¯åŠ¨ï¼›

```properties
git clone https://github.com/parkt90/dis-seckill.git
mvn clean package
```
å¯åŠ¨ç¼“å­˜æœåŠ¡ï¼š

```properties
java -jar dis-seckill-cache/target/dis-seckill-cache-0.0.1-SNAPSHOT.jar
```

å¯åŠ¨ç”¨æˆ·æœåŠ¡ï¼š

```properties
java -jar dis-seckill-user/target/dis-seckill-user-0.0.1-SNAPSHOT.jar
```

å¯åŠ¨è®¢å•æœåŠ¡ï¼š

```properties
java -jar dis-seckill-order/target/dis-seckill-order-0.0.1-SNAPSHOT.jar
```

å¯åŠ¨å•†å“æœåŠ¡ï¼š

```properties
java -jar dis-seckill-goods/target/dis-seckill-goods-0.0.1-SNAPSHOT.jar
```

å¯åŠ¨æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ï¼š

```properties
java -jar dis-seckill-mq/target/dis-seckill-mq-0.0.1-SNAPSHOT.jar
```

å¯åŠ¨ç½‘å…³æœåŠ¡ï¼š

```properties
java -jar dis-seckill-gateway/target/dis-seckill-gateway-0.0.1-SNAPSHOT.jar
```

> æ³¨ï¼šå¯åŠ¨æœåŠ¡æ—¶æœ€å¥½æŒ‰ä¸Šé¢çš„é¡ºåºå¯åŠ¨ã€‚

å¦‚æœå°†é¡¹ç›®å¯¼å…¥`IDE`ä¸­è¿›è¡Œæ„å»ºï¼Œåˆ™åˆ†åˆ«æŒ‰ä¸Šé¢çš„é¡ºåºå¯åŠ¨æœåŠ¡æ¨¡å—ä¸»ç¨‹åºå³å¯ã€‚

**ç¬¬ä¸‰æ­¥**ï¼›è®¿é—®é¡¹ç›®å…¥å£åœ°å€

<http://localhost:8082>

åˆå§‹ç”¨æˆ·æ‰‹æœºå·ç ï¼š13111897391ï¼Œå¯†ç ï¼š000000

## é¡¹ç›®æ¶æ„å›¾



![é¡¹ç›®æ¶æ„å›¾](doc/assets/é¡¹ç›®æ¶æ„å›¾.png)

## é¡¹ç›®å…¥é—¨

- **æ¨¡å—ä»‹ç»**
  
  - `dis-seckill-common`ï¼šé€šç”¨æ¨¡å—
  - `dis-seckill-user`ï¼šç”¨æˆ·æ¨¡å—
  - `dis-seckill-goods`ï¼šå•†å“æ¨¡å—
  - `dis-seckill-order`ï¼šè®¢å•æ¨¡å—
  - `dis-seckill-gateway`ï¼šç½‘å…³æ¨¡å—
  - `dis-seckill-cache`ï¼šç¼“å­˜æ¨¡å—
  - `dis-seckill-mq`ï¼šæ¶ˆæ¯é˜Ÿåˆ—æ¨¡å—
  
     ç”¨æˆ·è¯·æ±‚å…¨éƒ¨äº¤ç”±`Gateway`æ¨¡å—å¤„ç†ï¼Œ`Gateway`æ¨¡å—ä½¿ç”¨`RPC`ï¼ˆè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰çš„æ–¹å¼è°ƒç”¨å…¶ä»–æ¨¡å—æä¾›çš„æœåŠ¡å®Œæˆä¸šåŠ¡å¤„ç†ã€‚
  
- **ç§’æ€æµç¨‹å›¾**



<img src="doc/assets/ç§’æ€æµç¨‹å›¾.png" alt="ç§’æ€æµç¨‹å›¾"  />

- **ç§’æ€æ–¹æ¡ˆä»‹ç»**ï¼š 

 ![è®¾è®¡æ–¹æ¡ˆ](doc/assets/è®¾è®¡æ–¹æ¡ˆå›¾.png)



- **å‰ç«¯æ–‡ä»¶èµ„æºè·¯å¾„**ï¼š`dis-seckill-gateway\src\main\resources\`

## `TODO`

- [x] [é¡¹ç›®åŸºæœ¬æŠ€æœ¯ç‚¹](doc/é¡¹ç›®åŸºæœ¬æŠ€æœ¯ç‚¹.md);
- [x] **[ç§’æ€æµç¨‹ä¼˜åŒ–](https://github.com/parkt90/dis-seckill-test)**ï¼›
- [x] **[æ¥å£å®‰å…¨ä¼˜åŒ–](doc/æ¥å£å®‰å…¨ä¼˜åŒ–.md)**ï¼›
- [x] **[ç³»ç»Ÿé™æµä¸é™çº§æœåŠ¡](doc/ç³»ç»Ÿé™æµä¸é™çº§æœåŠ¡.md)**;
- [x] **[`Nginx`æ°´å¹³æ‰©å±•ç½‘å…³æ¨¡å—ä¸é™æµé…ç½®](doc/nginx.md)**;

## Q&A

| Q&A                                                          |
| ------------------------------------------------------------ |
| [å‰åç«¯äº¤äº’æ¥å£å®šä¹‰](doc/å‰åç«¯äº¤äº’æ¥å£å®šä¹‰.md)              |
| [å‰åç«¯äº¤äº’æ¥å£é€»è¾‘å®ç°](doc/å‰åç«¯äº¤äº’æ¥å£é€»è¾‘å®ç°.md)      |
| [`Redis`ä¸­å­˜å‚¨çš„æ•°æ®](doc/Redisä¸­å­˜å‚¨çš„æ•°æ®.md)              |
| [ä½¿ç”¨åˆ†å¸ƒå¼é”è§£å†³æ¶æ„ç”¨æˆ·é‡å¤æ³¨å†Œé—®é¢˜](doc/ä½¿ç”¨åˆ†å¸ƒå¼é”è§£å†³æ¶æ„ç”¨æˆ·é‡å¤æ³¨å†Œé—®é¢˜.md) |
| [æ‹¦æˆªå™¨`HandlerInterceptor`çš„ä½¿ç”¨](doc/HandlerInterceptorçš„ä½¿ç”¨.md) |
| **[`Rabbitmq`å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¯é æŠ•é€’ï¼ˆè¿‘æœŸæ›´æ–°ï¼‰](doc/Rabbitmq.md)** |
| **[`redis`å’Œ`mysql`å¦‚ä½•å®ç°åŒåˆ ä¸€è‡´æ€§ï¼ˆè¿‘æœŸæ›´æ–°ï¼‰](doc/åŒåˆ ä¸€è‡´.md)** |
| **[é™æµçš„çš„åŸç†å’Œé¡¹ç›®ä¸­ä½¿ç”¨(è¿‘æœŸæ›´æ–°)](doc/é™æµåŸç†.md)**    |

## å‚è€ƒèµ„æ–™

- Bç«™è§†é¢‘èµ„æ–™ï¼ˆä¾µåˆ ï¼‰
  - [2021æœ€æ–°åƒé€ç”µå•†é¡¹ç›®ç§’æ€ç³»ç»Ÿ-`SpringBootã€Redis`è½»æ¾å®ç°Javaé«˜å¹¶å‘ç§’æ€ç³»ç»Ÿ](https://www.bilibili.com/video/BV1Cp4y1b7Je?share_source=copy_web)
  - [JAVAè¿›é˜¶ï¼ˆé«˜å¹¶å‘å•†åŸç§’æ€é¡¹ç›®ï¼‰](https://www.bilibili.com/video/BV1Ha4y1e7Uj?share_source=copy_web)
  - [2019æœ€æ–°`springboot`å•†åŸç§’æ€ç³»ç»Ÿä¼˜åŒ–æ•™ç¨‹](https://www.bilibili.com/video/BV1QJ411e78B?share_source=copy_web)

- æ…•è¯¾ç½‘æ­£ç‰ˆç½‘è¯¾é“¾æ¥
  - [Javaç§’æ€ç³»ç»Ÿæ–¹æ¡ˆä¼˜åŒ– é«˜æ€§èƒ½é«˜å¹¶å‘å®æˆ˜](https://coding.imooc.com/class/168.html)

- å‚è€ƒé¡¹ç›®
  - [`dis-seckill`](https://github.com/Grootzz/dis-seckill)
  - [`seckill`](https://github.com/Grootzz/seckill)
  - [`miaosha_Shop`](https://github.com/MaJesTySA/miaosha_Shop)
  - [`springboot-seckill`](https://github.com/zaiyunduan123/springboot-seckill)





